<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Analyzer</title>

    <!-- Bootstrap CSS/Javascript -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css"
    integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
    crossorigin=""/>

    <!-- "Slick Loader" - loading gif - https://github.com/Zenoo/slick-loader -->
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/slick-loader@1.1.20/slick-loader.min.css">
    <script src="https://unpkg.com/slick-loader@1.1.20/slick-loader.min.js"></script>	

    <!-- Link to css files -->
    <link rel="stylesheet" href="../static/css/analyzer.css" />

</head>
<body>
    <!-- ----- Navbar ----- -->

    <!-- ------------------ -->

    <!-- ----- Property information section ----- -->
    <div class="container">
        <!-- Form for property address information  -->
        <!-- Adapted from https://getbootstrap.com/docs/5.1/examples/checkout/ -->
        <div class="row">
            <div class="col-md-3 col-lg-4">
                <!-- <h5 class="mb-3">Enter Property Address</h5> -->
                <div class="row g-3">
                    <div class="col-md-7">
                        <h5 class="mb-3">Enter Property Address</h5>
                    </div>
                    <div class="col-md-5">
                        <button type="button" class="btn btn-primary" id="reset-button">Reset</button>
                    </div>
                </div>
                <form>
                    <div class="row g-3">
                        <div class="col-12">
                            <label for="address" class="form-label">Address:</label>
                            <input type="text" class="form-control" id="address" placeholder="123 Main Street">
                            <label for="address2" class="form-label">Address 2:</label>
                            <input type="text" class="form-control" id="address2" placeholder="Apartment or Suite">
                        </div>
                        <div class="col-md-5">
                            <label for="city" class="form-label">City:</label>
                            <input type="text" class="form-control" id="city" value="Philadelphia" disabled>
                        </div>
                        <div class="col-md-2">
                            <label for="state" class="form-label">State:</label>
                            <input type="text" class="form-control" id="state" value="PA" disabled>
                        </div>
                        <div class="col-md-5">
                            <label for="zip" class="form-label">Zip Code:</label>
                            <input type="text" class="form-control" id="zip">
                        </div>
                    </div>
                </form>
                <!-- END: Form to property address information  -->
                <hr class="my-4">
                <!-- Form for property features  -->
                <div class="row g-3">
                    <div class="col-md-7">
                        <h5 class="mb-3">Enter Property Features</h5>
                    </div>
                    <div class="col-md-5">
                        <button type="button" class="btn btn-primary">Scrape from Zillow</button>
                    </div>
                </div>
                <form>
                    <div class="row g-3">
                        <div class="col-12">
                            <label for="list_price" class="form-label">List Price:</label>
                            <input type="text" class="form-control" id="list_price">
                        </div>
                    </div>
                    <div class="row g-3">
                        <div class="col-4">
                            <label for="number_bedrooms" class="form-label">Bedrooms:</label>
                            <input type="text" class="form-control" id="number_bedrooms">
                        </div>
                        <div class="col-4">
                            <label for="number_bathrooms" class="form-label">Bathrooms:</label>
                            <input type="text" class="form-control" id="number_bathrooms">
                        </div>
                        <div class="col-4">
                            <label for="square_feet" class="form-label">Square Feet:</label>
                            <input type="text" class="form-control" id="square_feet">
                        </div>
                    </div>
                    <div class="row g-3">
                        <div class="col-6">
                            <label for="year_built" class="form-label">Year Built:</label>
                            <input type="text" class="form-control" id="year_built">
                        </div>
                        <div class="col-6">
                            <label for="parking_spaces" class="form-label">Parking Spaces:</label>
                            <input type="text" class="form-control" id="parking_spaces">
                        </div>
                    </div>
                    <div class="row g-3">
                        <div class="col-6">
                            <label for="finished_basement">Finished Basement? </label>
                            <select class="form-select" name="finished_basement" id="finished_basement">
                                <option value="1" selected>Y</option>
                                <option value="0">N</option>
                            </select>
                        </div>
                        <div class="col-6">
                            <label for="central_air">Central Air? </label>
                            <select class="form-select" name="central_air" id="central_air">
                                <option value="1" selected>Y</option>
                                <option value="0">N</option>
                            </select>
                        </div>
                    </div>
                    <div class="row g-3">
                        <div class="col-12">
                            <label for="interior_condition">Interior Condition: </label>
                            <select class="form-select" name="interior_condition" id="interior_condition">
                                <option value="0" selected>Select Interior Condition</option>
                                <option value="2" >New Construction/Rehab</option>
                                <option value="3">Above Average</option>
                                <option value="4">Average</option>
                                <option value="5">Below Average</option>
                                <option value="6">Vacant</option>
                                <option value="7">Sealed/Structurally Compromised</option>
                            </select>
                        </div>
                    </div>
                </form>
                <!-- END: Form for property features  -->
                <hr class="my-4">
                <!-- Form payment information  -->
                <div class="row g-3">
                    <div class="col-md-8">
                        <h5 class="mb-3">Enter Payment Information</h5>
                    </div>
                    <form>
                        <div class="row g-3">
                            <div class="col-6">
                                <label for="sale_price" class="form-label">Sale Price:</label>
                                <input type="text" class="form-control" id="sale_price">
                            </div>
                            <div class="col-6">
                                <label for="down_payment" class="form-label">Down Payment:</label>
                                <input type="text" class="form-control" id="down_payment">
                            </div>
                        </div>
                        <div class="row g-3">
                            <div class="col-6">
                                <label for="interest_rate" class="form-label">Interest Rate:</label>
                                <input type="text" class="form-control" id="interest_rate">
                            </div>
                            <div class="col-6">
                                <button type="button" class="btn btn-primary" id="freddie-mac-scrape">Scrape from FreddieMac</button>
                            </div>
                        </div>
                        <div class="row g-3">
                            <div class="col-12">
                                <label for="mortgage_length" class="form-label">Mortgage Length: </label>
                                <input type="text" class="form-control" id="mortgage_length">
                            </div>
                        </div>
                    </form>
                </div>
                <!-- END: form for payment information -->
                <hr class="my-4">
                <!-- Button to compute property analysis -->
                <div class="row g-3">
                    <div class="d-grid gap-2">
                        <button type="button" class="btn btn-primary" id="submit-button">Compute Property Analysis</button>
                    </div>
                </div>
                <!-- END: button to compute property analysis -->
            </div> 
            
            <div class="col-md-9 col-lg-8">
                <!-- Map -->
                <div id="map"></div>
                <!-- END: Map -->
                <hr class="my-4">
                <!-- Table showing comps vs regression valuation -->
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                          <th scope="col">Valuation Type</th>
                          <th scope="col">Result</th>
                          <th scope="col">Over (Under) Listing</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><a class="disabled-href" href="/" id="comp-valuation-href" target="_blank">Comps</a></td>
                            <td id="comp-valuation-result">$-</td>
                            <td id="comp-valuation-over-under">$-</td>
                        </tr>
                        <tr>
                            <td><a class="disabled-href" href="/"  id="regression-valuation-href" target="_blank">Regression</a></td>
                            <td id="regression-valuation-result">$-</td>
                            <td id="regression-valuation-over-under">$-</td>
                        </tr>
                        <tr>
                            <td><a class="disabled-href" id="overall-valuation-href" target="_blank">Overall</a></td>
                            <td id="overall-valuation-result">$-</td>
                            <td id="overall-valuation-over-under">$-</td>
                        </tr>
                    </tbody>
                </table>
                <!-- END: table showing comps vs regression valuation -->
                <hr class="my-4">
                <!-- List showing potential monthly payment values -->
                <div id="payment-info">
                    <h5>Principal and Interest Payment</h5>
                    <table class="table table-borderless">
                        <tr>
                            <td>
                                At Current Listing: <span id="current-listing-monthly-payment">$-</span>
                            </td>        
                        </tr>
                        <tr>
                            <td>
                                At Current Sale Price: <span id="current-sale-price-monthly-payment">$-</span>
                            </td>        
                        </tr>
                        <tr>
                            <td>
                                At Comp Valuation: <span id="comp-valuation-monthly-payment">$-</span>
                            </td>        
                        </tr>
                        <tr>
                            <td>
                                At Regression Valuation: <span id="regression-valuation-monthly-payment">$-</span>
                            </td>        
                        </tr>
                    </table>
                </div>
                <!-- END: List showing potential monthly payment values -->
                <hr class="my-4">
                <!-- Insights -->
                <div id="insights-section">
                    <h5>Insights: </h5>
                    <ul>
                        <li>The overall valuation came in at <span>[XXX]%</span> <span>[above/below]</span> the current listing price</li>
                        <li>[If above] Selected property may be undervalued, and potentially listed by a motivated seller
                            <ul>
                                <li><em>You may have found a diamond in the rough! If it IS a motivated seller, there may be opportunity to negotiate down even more!</em></li>
                            </ul>
                        </li>
                        <li>[If below] Selected property may be overvalued and there may be room to negotiate down. If bought at valuation, you could achieve:
                            <ul>
                                <li><span>$[XXX]</span> reduction in monthly payment</li>
                                <li><span>$[XXX]</span> reduction in down payment for the same monthly payment result</li>
                                <li>Pay <span>[XXX]%</span> higher interest rate for same monthly payment</li>
                                <li>Shave <span>[XXX]</span> years off of mortgage length to achieve same monthly payment</li>
                            </ul>
                        </li>
                        <li>[If on par - maybe use certain % threshold] Listing price is on par with calculated propery valuation.</li>
                    </ul>

                </div>
            </div>
            

            
            
        </div>

        <!-- END: Form for property features  -->


    </div>
    <!-- ---------------------------------------- -->
</body>

    <!-- Leaflet JS-->
    <script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"
    integrity="sha512-tAGcCfR4Sc5ZP5ZoVz0quoZDYX5aCtEm/eu1KhSLj2c9eFrylXZknQYmxUssFaVJKvvc0dJQixhGjG2yXWiV9Q=="
    crossorigin=""></script>

    <!-- Script for d3 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.5.0/d3.min.js"></script>

    <!-- Script for analyzer javascript logic -->
    <script src="{{ url_for('static', filename='js/config.js') }}"></script>
    <script src="{{ url_for('static', filename='js/analyzer.js') }}"></script>
    
</html>